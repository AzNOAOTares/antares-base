
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Antares Documentation &#8212; Antares API 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="General Alert ( antares.model.alert.Alert )" href="alert/general_alert.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="alert/general_alert.html" title="General Alert ( antares.model.alert.Alert )"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Antares API 2.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="antares-documentation">
<h1>Antares Documentation<a class="headerlink" href="#antares-documentation" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="_images/antares.png"><img alt="_images/antares.png" src="_images/antares.png" style="width: 150px; height: 150px;" /></a>
<a class="reference internal image-reference" href="_images/ANTARES-A.png"><img alt="_images/ANTARES-A.png" src="_images/ANTARES-A.png" style="width: 200px; height: 150px;" /></a>
<p>Welcome to Antares documentation.</p>
<div class="section" id="api-reference">
<h2>API reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<p>The Arizona-NOAO Temporal Analysis and Response to Events System (<em>ANTARES</em>), at its core, analyzes camera alert data generated by the Large Synoptic Survey Telescope (<em>LSST</em>) in order to present astronomically interesting phenomena to scientists.  Thus, the system determines and filters regular activity from the more interesting data astronomers wish to investigate further.  In order to do this, ANTARES allows astronomers to develop code for use in determining the rarity of the observations.</p>
<p>When the LSST completes and transmits an exposure to ANTARES, that exposure is XOR’d with previous exposures of the same segment of the sky; differences between exposures are entered into ANTARES as a set of <em>Camera Alerts</em> containing the data from the exposure.  Those Camera Alerts (and subsequently generated Alerts as will be discussed) are sent by ANTARES through the code developed by astronomers in <em>stages</em> which are run in a distributed system concurrently.  These code stages may determine that a Camera Alert is not sufficiently interesting to continue analysis and will then divert the alert, which instructs ANTARES to not continue further processing; Camera Alerts not diverted will proceed to further code stages for further processing.  In addition, stages may generate <em>Alert Replicas</em>- copies of a given Camera Alert associated with different <em>Astro Objects</em> (known astrometric phenomena)- for parallel stage processing (each Replica Alert may be processed separately) or for use in <em>Combo Alerts</em>- a type of Alert which allows multiple Alerts to be processed together in a given stage as opposed to individually as a single Camera Alert.  Stages may also access <em>External Alerts</em>- data from other telescopes- as well as known Astro Objects- known astronomic phenomena- and use them in Alert Combos for processing.</p>
<p>Data for processing is located in the Alert object(s).  Each Alert object organizes its data in <em>Contexts</em> and <em>Properties</em>.  Alerts have Contexts, which in turn have Properties.  Contexts allow for categorical organization of data.  To illustrate, the Camera Alert context holds data related to the brightness of a Camera Alert and the Astro Object context holds currently known data (such as color intensity) regarding the Astro Object in question.  These Contexts hold any number of Properties, which are variables generated by and/or used in the stage processing.  Some Contexts have a set of predefined Properties populated by default, such as data inherently available in Camera Alerts from the LSST.</p>
<p>Within the ANTARES pipeline, stage code accesses the Alerts, Contexts, and Properties, as well as calling helper functions, through the ANTARES API.  At the beginning of a stage, ANTARES- as defined in the API- passes the Alert for processing (including any Contexts and Properties associated with as well as Replicas in the case of a Combo Alert) to the stage code.  ANTARES then retrieves this data from the Locus Aggregated Database (which is initially populated with data from the LSST).  At the end of the stage, ANTARES stores data generated and used by stages in the Locus Aggregated Database for use in further stages.  The helper functions supplied in the API, among other things, allows the stage code to direct what to do with an alert- discard, mark as rare, or simply continue processing- following the stage.</p>
<div class="figure" id="id1">
<img alt="_images/api_processing.png" src="_images/api_processing.png" />
<p class="caption"><span class="caption-text">This figure demonstrates how ANTARES processes stage code.  Here, workers are individual threads operating on nodes.  They receive alert data to process from the master node and execute stages on that data as shown here.</span></p>
</div>
<p>This document specifies the ANTARES API, which allows development of stage code for execution on ANTARES.</p>
<div class="section" id="alert-related">
<h3>Alert related<a class="headerlink" href="#alert-related" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="alert/general_alert.html">General Alert ( <code class="docutils literal"><span class="pre">antares.model.alert.Alert</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert/camera_alert.html">Camera Alert ( <code class="docutils literal"><span class="pre">antares.model.alert.CameraAlert</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert/alert_replica.html">Alert Replica ( <code class="docutils literal"><span class="pre">antares.model.alert.AlertReplica</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert/alert_combo.html">Alert Combo ( <code class="docutils literal"><span class="pre">antares.model.alert.AlertCombo</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert/astroobj.html">Astro Object ( <code class="docutils literal"><span class="pre">antares.model.alert.AstroObject</span></code> )</a></li>
</ul>
</div>
</div>
<div class="section" id="context-related">
<h3>Context related<a class="headerlink" href="#context-related" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="context/context.html">Context ( <code class="docutils literal"><span class="pre">antares.model.context.Context</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/ca_context.html">CA Context ( <code class="docutils literal"><span class="pre">antares.model.context.CAContext</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/ar_context.html">AR Context ( <code class="docutils literal"><span class="pre">antares.model.context.ARContext</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/ao_context.html">AO Context ( <code class="docutils literal"><span class="pre">antares.model.context.AOContext</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/la_context.html">LA Context ( <code class="docutils literal"><span class="pre">antares.model.context.LAContext</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/cb_context.html">CB Context ( <code class="docutils literal"><span class="pre">antares.model.context.CBContext</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/ea_context.html">EA Context ( <code class="docutils literal"><span class="pre">antares.model.context.EAContext</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/im_context.html">IM Context ( <code class="docutils literal"><span class="pre">antares.model.context.IMContext</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/is_context.html">IS Context ( <code class="docutils literal"><span class="pre">antares.model.context.ISContext</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/ir_context.html">IR Context ( <code class="docutils literal"><span class="pre">antares.model.context.IRContext</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/ps_context.html">PS Context ( <code class="docutils literal"><span class="pre">antares.model.context.PSContext</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="context/es_context.html">ES Context ( <code class="docutils literal"><span class="pre">antares.model.context.ESContext</span></code>)</a></li>
</ul>
</div>
</div>
<div class="section" id="property-related">
<h3>Property related<a class="headerlink" href="#property-related" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="property/property.html">Property ( <code class="docutils literal"><span class="pre">antares.model.property.Property</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="property/uncertain_float.html">Uncertain Float ( <code class="docutils literal"><span class="pre">antares.model.property.UncertainFloat</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="property/int_pair.html">Float Pair ( <code class="docutils literal"><span class="pre">antares.model.property.FloatPair</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="property/float_pair.html">Float Pair ( <code class="docutils literal"><span class="pre">antares.model.property.FloatPair</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="property/prob_curve.html">Probability Curve ( <code class="docutils literal"><span class="pre">antares.model.property.ProbabilityCurve</span></code> )</a></li>
<li class="toctree-l1"><a class="reference internal" href="property/time_period.html">Time Period ( <code class="docutils literal"><span class="pre">antares.model.property.TimePeriod</span></code> )</a></li>
</ul>
</div>
</div>
<div class="section" id="helper-functions">
<h3>Helper functions<a class="headerlink" href="#helper-functions" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="helper/index.html">Helper Functions( <code class="docutils literal"><span class="pre">antares.model.helper</span></code> )</a></li>
</ul>
</div>
</div>
<div class="section" id="pre-defined-properties">
<h3>Pre-defined Properties<a class="headerlink" href="#pre-defined-properties" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="property/predefined.html">Predefined Properties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="property/predefined.html#predefined-properties-for-ca-context">Predefined Properties for CA context</a></li>
<li class="toctree-l2"><a class="reference internal" href="property/predefined.html#predefined-properties-for-ar-context">Predefined Properties for AR context</a></li>
<li class="toctree-l2"><a class="reference internal" href="property/predefined.html#predefined-properties-for-ao-context">Predefined Properties for AO context</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="definitions">
<h3>Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>An object may be “contained” by only a single other object.  That other object may be considered the owner of the “contained” object.</li>
<li>“Has” denotes a reference from one object to one or multiple others.  Objects may be “had” by multiple other objects but are not owned by any of those objects.</li>
</ol>
</div>
<div class="section" id="container-hierarchy">
<h3>Container Hierarchy<a class="headerlink" href="#container-hierarchy" title="Permalink to this headline">¶</a></h3>
<p>The way in which Contexts and Alerts are organized and linked directs how various pieces of data may be accessed and altered.  The diagram below illustrates that organization.</p>
<img alt="_images/containerDiagram.png" src="_images/containerDiagram.png" />
</div>
</div>
<div class="section" id="rules-constraints">
<h2>Rules &amp; Constraints<a class="headerlink" href="#rules-constraints" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Properties can be only accessed through the context that they belong to.</p>
</li>
<li><p class="first">Values of Properties are accessed directly by their names.
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">alert</span><span class="o">.</span><span class="n">CA</span><span class="o">.</span><span class="n">GMinusR</span>
</pre></div>
</div>
<p>This will assign most-recently computed value for the property GMinusR
to <code class="docutils literal"><span class="pre">value</span></code>. It will raise an <a class="reference external" href="https://docs.python.org/3.4/library/exceptions.html#AttributeError" title="(in Python v3.4)"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a> exception if CA context
has no property called <code class="docutils literal"><span class="pre">GMinusR</span></code>.</p>
</li>
<li><p class="first">Properties are changed when we assign values to them.
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">alert</span><span class="o">.</span><span class="n">CA</span><span class="o">.</span><span class="n">GMinusR</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<p>This will assign <code class="docutils literal"><span class="pre">value</span></code> to the property <code class="docutils literal"><span class="pre">GMinusR</span></code> that is defined under
CA context. It will raise an <a class="reference external" href="https://docs.python.org/3.4/library/exceptions.html#AttributeError" title="(in Python v3.4)"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a> exception if CA context
has no property called <code class="docutils literal"><span class="pre">GMinusR</span></code>.</p>
</li>
<li><p class="first">Timestamp for a newly computed property value is assigned implicitly
when the value is assigned to the property.</p>
</li>
<li><p class="first">Exceptions are handled by callers. The only exception in the API is Python’s
built-in <a class="reference external" href="https://docs.python.org/3.4/library/exceptions.html#AttributeError" title="(in Python v3.4)"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a> exception.</p>
</li>
<li><p class="first">There will be a max size for strings. The max size is to be determined.</p>
</li>
<li><p class="first">The value of property may be NA (not applicable), but NK (not known)
is not allowed as a value.</p>
</li>
<li><p class="first">The value for a Base Property is provided by the Camera in a
camera alert or from the Aggregated AstroObject Catalogue for the
relevant alert replica, and is always present when appropriate.</p>
</li>
<li><p class="first">The value for a Derived Property will be present for a derivation
function for a given context if its arguments are present and if
the algorithm for that derivation function completes.</p>
</li>
<li><p class="first">CA and LA Properties are always available.</p>
</li>
<li><p class="first">AR Properties are only accessible during per-replica processing;
AO Properties are available if <code class="docutils literal"><span class="pre">AR-HasAstroObject</span></code> is
<a class="reference external" href="https://docs.python.org/3.4/library/constants.html#True" title="(in Python v3.4)"><code class="xref py py-data docutils literal"><span class="pre">True</span></code></a>; ES only if <code class="docutils literal"><span class="pre">AO-kind</span> <span class="pre">=</span> <span class="pre">&quot;extended</span> <span class="pre">source&quot;</span></code>; PS only if
<code class="docutils literal"><span class="pre">AR-HasAstroObject</span></code> is <a class="reference external" href="https://docs.python.org/3.4/library/constants.html#True" title="(in Python v3.4)"><code class="xref py py-data docutils literal"><span class="pre">True</span></code></a> and <code class="docutils literal"><span class="pre">AO-kind</span> <span class="pre">=</span> <span class="pre">&quot;point</span>
<span class="pre">source&quot;</span></code>.</p>
</li>
<li><p class="first">CB Properties are only visible during per-combo processing.</p>
</li>
<li><p class="first">CA processing can iterate through the alerts of its
locus-aggregated alert to access AR, PS, and ES Properties. For
example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">alert</span><span class="o">.</span><span class="n">LA</span><span class="o">.</span><span class="n">assembleTimeSeries_replics</span><span class="p">(</span> <span class="s1">&#39;AR&#39;</span><span class="p">,</span> <span class="s1">&#39;Redshift&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">alert</span></code> is a camera alert and the above call returns a
time series of all the values of the Property <code class="docutils literal"><span class="pre">Redshift</span></code> under
<code class="docutils literal"><span class="pre">AR</span></code> context of the alert replicas associated with a locus
aggregated alert.</p>
</li>
<li><p class="first">CB processing can iterate through its replicas to access AR, AO,
PS, and ES Properties.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">combo</span><span class="o">.</span><span class="n">CB</span><span class="o">.</span><span class="n">assembleVector</span><span class="p">(</span> <span class="s1">&#39;AR&#39;</span><span class="p">,</span> <span class="s1">&#39;Redshift&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">combo</span></code> is an alert combo and the above call returns a
numpy array of all the values of the Property <code class="docutils literal"><span class="pre">Redshift</span></code> under
<code class="docutils literal"><span class="pre">AR</span></code> context of the alert replicas associated with the alert
combo.</p>
</li>
<li><p class="first">A Derived Property cannot have a circular definition (and so
definitions form a directed acyclic graph).</p>
</li>
<li><p class="first">Alert Replicas will not be processed until Camera Alerts have finished processing.</p>
</li>
<li><p class="first">Alert Combos will not be processed until Alert Replicas have finished processing.</p>
</li>
</ol>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/examples.html">Examples of using API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/examples.html#how-to-assign-retrieve-the-value-to-from-an-property">How to assign/retrieve the value to/from an property</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/examples.html#diverting-an-alert">Diverting an alert</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/examples.html#creating-an-alert-replica">Creating an alert replica</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/examples.html#creating-a-combo-based-on-the-value-of-property-redshift">Creating a combo based on the value of property <code class="docutils literal"><span class="pre">RedShift</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/examples.html#assemble-a-light-curve">Assemble a light curve</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/examples.html#different-ways-of-iterating-property-values">Different ways of iterating property values</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="assumptions-and-comments">
<h2>Assumptions and Comments<a class="headerlink" href="#assumptions-and-comments" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Alerts are atomic; at any given point in time, only one stage will have access to a given alert and, redundancy concerns excepted, the alert will only exist in one state and in one place.  Combos and replicas use duplicates of other alerts rather than references to the original alert.</li>
<li>The alerts (including Combo and Replica Alerts) can be processed entirely in parallel and entirely independently of one another.  If a stage requires Properties from earlier stages, it will only be executed after those earlier stages (this in part relies on stage configuration).  Only one stage may be executed on each Alert at a given time.</li>
</ul>
<p>NOTE: we decided to leave for later discussion the identification of structures of camera alerts within an image (e.g., a cluster of say 100 alerts within a small area). We can incorporate such identification as a separate analysis, outside that of the stages.  This may be done through the creation of Combo Alerts in stage processing, but algorithms independant of the stages may prove more effective.</p>
<ul class="simple">
<li>Each Alert within a stage will have access only to Properties within that Alert.</li>
<li>Values of Property in a larger context (e.g., Image) will be the same across the relevant alerts (e.g., for every alert in that Image, for every alert in that RAFT).  Larger contexts’ properties will derive from the aggregate of the smaller contexts.</li>
<li>Each alert within a stage will write a new value for one or more properties within multiple contexts.</li>
<li>ANTARES assumes that, once written at the end of a stage, a given property becomes final and immutable.  Subsequent stages do not change the value of the property.  This assumption may need to be reexamined as the stage code base grows beyond management.</li>
<li>Values cannot be written for a larger context (e.g., Image) within an alert stage. So a camera alert can write to properties in the CA context but not to the Image or AstroObject contexts.  For more details on which contexts are writable, see Rules &amp; Constraints above.</li>
</ul>
<p>Note: the Antares Data Model document (<a class="reference external" href="https://docs.google.com/document/d/1xjYmhd8W9pyiwCBLA6o8mJeAz99Qbz9NvYFpICvYfSA/">https://docs.google.com/document/d/1xjYmhd8W9pyiwCBLA6o8mJeAz99Qbz9NvYFpICvYfSA/</a>) had an example of</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">LA</span><span class="o">-</span><span class="n">LightCurve</span> <span class="o">=</span> <span class="n">F2</span><span class="p">(</span> <span class="n">LA</span><span class="o">-</span><span class="n">CameraAlerts</span><span class="o">.</span><span class="n">TimeSeries</span><span class="p">(</span><span class="n">CA</span><span class="o">-</span><span class="n">Brightness</span><span class="p">),</span> <span class="n">CA</span><span class="o">-</span><span class="n">Brightness</span><span class="p">,</span> <span class="n">CA</span><span class="o">-</span><span class="n">Time</span> <span class="p">)</span>
</pre></div>
</div>
<p>Such an assignment would be allowed within a camera alert, because a Locus-Aggregated Alert (LA) has exactly one Camera Alert (CA) at any time. However, that would not be allowed within a replica or combo.</p>
<p>NOTE: We discussed computing something like the count of the number of alerts by allowing something like</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">IM</span><span class="o">-</span><span class="n">CountAlerts</span> <span class="o">=+</span> <span class="mi">1</span>
</pre></div>
</div>
<p>which reads IM-CountAlerts, adds one, and writes it. That is explicitly forbidden above. However, for such <em>accumulative</em> calculations, there may be ways to incorporate them by having a separate process that accepts such accumulations and coalesces them into a single assignment, rather than a complex sequence of parallel reads and write, which we want to avoid allowing.</p>
<ul class="simple">
<li>Written values are stored in the database only when a stage completes. A stage that is aborted loses those values, because the stage was incomplete.</li>
<li>A property can be written to multiple times in a stage or in separate stages, but only the last value will be visible in subsequent stages or in output for a particular camera alert. (We allow this because different astronomers might have independently written different stages.)</li>
<li>The values form a time series, one value computed for each alert at that time. Hence, old values are retained and the new value extends the time series. No value is ever changed in the database (except for multiple writes, discussed above, which we can finesse.).  In other words, each stage generates a new database entry.  The entire history of alert processing will be present in the database, with one new write per stage and no modification of old (and perhaps stale) stage values.</li>
<li>There will be a separate conversion process that will translate the highly-optimized storage structure used in the ANTARES pipeline to and from the traditional relational structure as described in the ER diagram.  The latter representation will be best for cross-alert analyses. The conversion(s) and cross-alert analyses will happen outside the time-critical portion of ANTARES and may be challenging in their own way in terms of performance.</li>
<li>User-contributed stages write to properties associated with a context of the current alert. So a single stage or multiple stages could successively write to the same property, changing its value as the processing pipeline progresses. We retain the value as of the end of each stage, but a future alert at the same locus will only see the final value of that property: there is no facility for seeing an intermediate value within a stage or between stages of a single past alert at that locus.</li>
<li>User-contributed stages can also write to local variables during their processing, but such variables will not be persisted between stages. The only values that are persisted are those associated with the contexts of the alert.</li>
</ul>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Antares Documentation</a><ul>
<li><a class="reference internal" href="#api-reference">API reference</a><ul>
<li><a class="reference internal" href="#alert-related">Alert related</a></li>
<li><a class="reference internal" href="#context-related">Context related</a></li>
<li><a class="reference internal" href="#property-related">Property related</a></li>
<li><a class="reference internal" href="#helper-functions">Helper functions</a></li>
<li><a class="reference internal" href="#pre-defined-properties">Pre-defined Properties</a></li>
<li><a class="reference internal" href="#definitions">Definitions</a></li>
<li><a class="reference internal" href="#container-hierarchy">Container Hierarchy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rules-constraints">Rules &amp; Constraints</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#assumptions-and-comments">Assumptions and Comments</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="alert/general_alert.html"
                        title="next chapter">General Alert ( <code class="docutils literal"><span class="pre">antares.model.alert.Alert</span></code> )</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="alert/general_alert.html" title="General Alert ( antares.model.alert.Alert )"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Antares API 2.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-2017, Antares Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
  </body>
</html>